<?xml version="1.0" encoding="UTF-8" ?> 
<Module>
  <ModulePrefs title="The Example Help Desk Gadget"
        author="User"
        author_email="user@domain.com"
  /> 
  <UserPref name="displayedURL" display_name="URL to display" required="true"></UserPref>
  <Content type="html" >
     <![CDATA[ 

     <div id="content_div"></div>

     <script type="text/javascript">

      console.time('EntireScript');

      var dd = new Date();
      var hh = dd.getHours();
      var mm = dd.getMinutes();
      var ss = dd.getSeconds();

      console.log("Start - " + hh + ':' + mm + ':' + ss);


      function getHtml() {    
        var params = {};  
        params[gadgets.io.RequestParameters.CONTENT_TYPE] = gadgets.io.ContentType.TEXT;  
        var url = "https://enterprise-deployments.googlecode.com/svn/trunk/apps/utils/GoogleAppsDomains.txt";  
        var url = "https://espn.go.com";  
        console.time('makeRequests');
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        gadgets.io.makeRequest(url, response, params);
        console.timeEnd('makeRequests');
      };

      function response(obj) {  
        //obj.text contains the text of the page that was requested  
        var str = obj.text;
        var html =  str.substr(0,400);  
        document.getElementById('content_div').innerHTML = html;
      };

      var dd = new Date();
      var hh = dd.getHours();
      var mm = dd.getMinutes();
      var ss = dd.getSeconds();

      console.log("End - " + hh + ':' + mm + ':' + ss);
     
      console.timeEnd('EntireScript');
      gadgets.util.registerOnLoadHandler(getHtml);

     </script>

     ]]>
  </Content> 
</Module>
